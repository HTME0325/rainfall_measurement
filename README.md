# ğŸŒ§ï¸ Rainfall Measurement App

é€™æ˜¯ä¸€å€‹æ­·å²é›¨é‡è³‡æ–™æŸ¥è©¢æ‡‰ç”¨ï¼Œå‰ç«¯ä½¿ç”¨ **React + Vite + Tailwind CSS**ï¼Œå¾Œç«¯ä½¿ç”¨ **FastAPI**ï¼Œä»¥ç¾ä»£åŒ–æŠ€è¡“å †ç–Šå¯¦ä½œå‰å¾Œç«¯åˆ†é›¢ã€‚æ”¯æ´ä»¥åœ–è¡¨èˆ‡åœ°åœ–æ–¹å¼æŸ¥è©¢æ¯æ—¥é›¨é‡èˆ‡é›¨é‡è¶¨å‹¢ã€‚

---
## ç’°å¢ƒéœ€æ±‚
- Python 3.12.4
- å»ºè­°ä½¿ç”¨ `venv` å»ºç«‹è™›æ“¬ç’°å¢ƒ
- ä½œæ¥­ç³»çµ±ï¼šWindows 11
- æœ¬å°ˆæ¡ˆåœ¨ Windows 11 ä¸Šé–‹ç™¼èˆ‡æ¸¬è©¦ï¼Œç†è«–ä¸Šæ”¯æ´å…¶ä»–å¹³å°ï¼Œä½†å¯èƒ½éœ€è¦èª¿æ•´å•Ÿå‹•æ–¹å¼ï¼ˆå¦‚ shell æŒ‡ä»¤ï¼‰ã€‚

---
## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
rainfall_measurement/
â”œâ”€â”€ backend/ # FastAPI å¾Œç«¯æ‡‰ç”¨
â”‚ â”œâ”€â”€ main.py # ä¸»æ‡‰ç”¨ï¼Œæ›è¼‰ API èˆ‡å‰ç«¯éœæ…‹é é¢
â”‚ â”œâ”€â”€ routers/
â”‚ â”‚ â””â”€â”€ weather.py # è·¯ç”±å®šç¾©ï¼šè™•ç† /api/weather/data
â”‚ â”œâ”€â”€ services/
â”‚ â”‚ â””â”€â”€ weather_service.py # å•†æ¥­é‚è¼¯å±¤ï¼Œèª¿ç”¨ utils ä¸¦è™•ç†å›å‚³è³‡æ–™
â”‚ â”œâ”€â”€ utils/
â”‚ â”‚ â””â”€â”€ cwa_client.py # ä¸­å¤®æ°£è±¡å±€ API è«‹æ±‚èˆ‡è³‡æ–™è§£æ
â”‚ â””â”€â”€ .env # å„²å­˜æ°£è±¡ API é‡‘é‘°ï¼ˆå·²åˆ—å…¥ .gitignoreï¼‰
â”œâ”€â”€ frontend/ # å‰ç«¯å°ˆæ¡ˆï¼ˆViteï¼‰
â”‚ â”œâ”€â”€ rainfall/ # å‰ç«¯é–‹ç™¼åŸå§‹ç¢¼
â”‚ â””â”€â”€ dist/ # å‰ç«¯ build å¾Œçš„éœæ…‹é é¢
â”œâ”€â”€ venv/ # Python è™›æ“¬ç’°å¢ƒ
â””â”€â”€ README.md # ä½¿ç”¨èªªæ˜
```

---
## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1ï¸âƒ£ å»ºç«‹ä¸¦å•Ÿç”¨è™›æ“¬ç’°å¢ƒ (For Windows)

```bash
python -m venv venv
venv/Scripts/activate  
```

### 2ï¸âƒ£ å®‰è£å¾Œç«¯ä¾è³´å¥—ä»¶

```bash
cd backend
pip install -r requirements.txt
```

### 3ï¸âƒ£ ğŸ” .env è¨­å®š
ä½ éœ€è¦å»ºç«‹ä¸€å€‹ .env æª”æ¡ˆåœ¨ backend/ï¼Œå…§å®¹å¦‚ä¸‹ï¼š
```env
CWA_API_KEY=ä½ çš„ä¸­å¤®æ°£è±¡å±€é‡‘é‘°
```

### 4ï¸âƒ£ å•Ÿå‹• FastAPI å¾Œç«¯ä¼ºæœå™¨

```bash
uvicorn main:app --reload
```

### 5ï¸âƒ£ å‰ç«¯é–‹å•Ÿæ–¹å¼

å•Ÿå‹•å‰ç«¯é é¢: http://127.0.0.1:8000/

API: http://127.0.0.1:8000/api


---
## ğŸ–¥ï¸ å‰ç«¯åŠŸèƒ½ç‰¹è‰²
* ğŸ—ºï¸ åœ°åœ–ä»‹é¢ï¼šå¯è¦–åŒ–å„æ¸¬ç«™ç•¶æ—¥é™é›¨é‡

* ğŸ“ˆ é›¨é‡è¶¨å‹¢åœ–ï¼šæŸ¥è©¢ç‰¹å®šæ¸¬ç«™åœ¨ä¸€æ®µæ™‚é–“å…§çš„é™é›¨è®ŠåŒ–

* ğŸ” æ¸¬ç«™é¸å–®ï¼šä¸‹æ‹‰é¸å–®é¡¯ç¤ºæ‰€æœ‰æ¸¬ç«™ï¼Œä¾ç”±åŒ—åˆ°å—ï¼ˆç·¯åº¦ï¼‰æ’åº

* â±ï¸ å¿«é€Ÿæ™‚é–“ç¯„åœï¼šæ”¯æ´ä¸€éµæŸ¥è©¢ã€Œè¿‘ä¸€é€±ã€èˆ‡ã€Œè¿‘ä¸€å€‹æœˆã€è¶¨å‹¢

---
## ğŸ”¹ API è·¯å¾‘

### ğŸ“… æ¯æ—¥é›¨é‡æŸ¥è©¢
```bash
GET /api/weather/data?date=YYYY-MM-DD
```
* åƒæ•¸ date: ä½ è¦æŸ¥è©¢çš„æ—¥æœŸï¼ˆæ ¼å¼ç‚º 2024-06-30ï¼‰

## ğŸ”¹ ç¯„ä¾‹å›å‚³æ ¼å¼
```json
{
  "date": "2025-07-11",
  "locations": [
    {
      "locationName": "æ–°åŒ—",
      "date": "2025-07-11",
      "Precipitation": 1.5
    },
    ...
  ]
}
```

---
### ğŸ“ˆ é›¨é‡è¶¨å‹¢æŸ¥è©¢
```bash
GET /api/trend?station=ç«¹å­æ¹–&start=2025-06-15&end=2025-07-13
```
åƒæ•¸ï¼š
* stationï¼šæ¸¬ç«™åç¨±ï¼ˆå¦‚ã€Œç«¹å­æ¹–ã€ï¼‰

* startï¼šèµ·å§‹æ—¥æœŸ

* endï¼šçµæŸæ—¥æœŸ

## ğŸ”¹ ç¯„ä¾‹å›å‚³æ ¼å¼
```json
{
  "station": "ç«¹å­æ¹–",
  "start": "2025-07-01",
  "end": "2025-07-10",
  "data": [
    {
      "date": "2025-07-01",
      "rainfall": 0
    },
    
    ...
  ]
}
```

---
## ğŸ”¹ è³‡æ–™è™•ç†æµç¨‹åœ–
```text
ä½¿ç”¨è€…è«‹æ±‚
    â†“
[weather.py] router æ¥æ”¶ GET /data æˆ– GET /trend
    â†“
[weather_service.py] å‘¼å« get_weather_data_service / get_trend_data_service
    â†“
[cwa_client.py]
    â”œâ”€ fetch_weather_data(date)
    â”‚   â†’ ç™¼é€ API è«‹æ±‚ï¼Œæ“·å–ä¸­å¤®æ°£è±¡å±€ JSON è³‡æ–™
    â””â”€ parse_weather_data(records, date)
        â†’ è³‡æ–™æ¸…æ´—èˆ‡çµ±ä¸€æ ¼å¼ï¼Œè™•ç†ç¼ºæ¼å€¼ã€æ¬„ä½å°æ‡‰
```

